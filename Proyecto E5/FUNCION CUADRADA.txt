;--------------------------RUTINA FUNCION CUADRADA-------------------
;SEGMENTO RECTO MAYOR 1
RECTO_M_1
		LDR R4, =0
		LDR R9, =0
		LDR R7, =0
		
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R3, #0X10			;PRENDE PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y PRENDE LOS PINES 
		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R0, #0X2 			;PRENDE PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_R_M_1
		
DELAY_R_M_1

		ADD R9, #1
		CMP R9, R8
		BEQ APAGADO_M_1
		B DELAY_R_M_1

APAGADO_M_1
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R3, #0X10			;APAGA PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y Apaga los pines
		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R0, #0X2 			;APAGA PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_OFF_M_1

DELAY_OFF_M_1

		ADD R7, #1
		CMP R7, R6
		BEQ GIRO_1
		B DELAY_OFF_M_1	
;PRIMER GIRO 
GIRO_1
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R3, #0X10			;PRENDE PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y Prende los pines
		B DELAY_G_1
		
DELAY_G_1			
		
		ADD R4, #1
		CMP R4, R5
		BEQ APAGADO_G_1
		B DELAY_G_1
		
APAGADO_G_1
		
		LDR R7, =0 		
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R3, #0X10			;Apaga los pines del puerto E
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y Apaga los pines
		B DELAY_OFF_G_1

DELAY_OFF_G_1	
		
		ADD R7, #1
		CMP R7, R6
		BEQ RECTO_m_1
		B DELAY_OFF_G_1
		
;SEGMENTO RECTO MENOR 1

RECTO_m_1
		
		LDR R4, =0
		LDR R9, =0
		LDR R7, =0
		
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R3, #0X10			;PRENDE PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y PRENDE LOS PINES 
		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R0, #0X2 			;PRENDE PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_R_m_1
		
DELAY_R_m_1			
		ADD R9, #1
		CMP R9, R10 
		BEQ APAGADO_m_1
		B DELAY_R_m_1

APAGADO_m_1
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R3, #0X10			;APAGA PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y Apaga los pines
		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R0, #0X2 			;APAGA PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_OFF_m_1

DELAY_OFF_m_1

		ADD R7, #1
		CMP R7, R6
		BEQ GIRO_2
		B DELAY_OFF_m_1	

;SEGUNDO GIRO 
GIRO_2
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R3, #0X10			;PRENDE PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y Prende los pines
		B DELAY_G_2
		
DELAY_G_2			
		
		ADD R4, #1
		CMP R4, R5
		BEQ APAGADO_G_2
		B DELAY_G_2
		
APAGADO_G_2
		
		LDR R7, =0 		
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R3, #0X10			;Apaga los pines del puerto E
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y Apaga los pines
		B DELAY_OFF_G_2

DELAY_OFF_G_2	
		
		ADD R7, #1
		CMP R7, R6
		BEQ RECTO_M_2
		B DELAY_OFF_G_2
		
;SEGMENTO RECTO MAYOR 2
RECTO_M_2
		LDR R4, =0
		LDR R9, =0
		LDR R7, =0
		
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R3, #0X10			;PRENDE PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y PRENDE LOS PINES 
		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R0, #0X2 			;PRENDE PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_R_M_2
		
DELAY_R_M_2

		ADD R9, #1
		CMP R9, R8
		BEQ APAGADO_M_2
		B DELAY_R_M_2

APAGADO_M_2
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R3, #0X10			;APAGA PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y Apaga los pines
		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R0, #0X2 			;APAGA PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_OFF_M_2

DELAY_OFF_M_2

		ADD R7, #1
		CMP R7, R6
		BEQ GIRO_3
		B DELAY_OFF_M_2	

;TERCER GIRO 
GIRO_3
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R0, #0X2 			;PRENDE PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_G_3
		
DELAY_G_3			
		
		ADD R4, #1
		CMP R4, R5
		BEQ APAGADO_G_3
		B DELAY_G_3
		
APAGADO_G_3
		
		LDR R7, =0 		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R0, #0X2 			;APAGA PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_OFF_G_3

DELAY_OFF_G_3	
		
		ADD R7, #1
		CMP R7, R6
		BEQ RECTO_m_2
		B DELAY_OFF_G_3
		
;SEGMENTO RECTO MENOR 2

RECTO_m_2
		
		LDR R4, =0
		LDR R9, =0
		LDR R7, =0
		
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R3, #0X10			;PRENDE PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y PRENDE LOS PINES 
		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R0, #0X2 			;PRENDE PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_R_m_2
		
DELAY_R_m_2			
		ADD R9, #1
		CMP R9, R10 
		BEQ APAGADO_m_2
		B DELAY_R_m_2

APAGADO_m_2
		LDR R3, [R2, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R3, #0X10			;APAGA PE4
		STR R3, [R2, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y Apaga los pines
		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R0, #0X2 			;APAGA PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_OFF_m_2

DELAY_OFF_m_2

		ADD R7, #1
		CMP R7, R6
		BEQ GIRO_4
		B DELAY_OFF_m_2	

;CUARTO GIRO 
GIRO_4
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		ORR R0, #0X2 			;PRENDE PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES
		B DELAY_G_4
		
DELAY_G_4			
		
		ADD R4, #1
		CMP R4, R5
		BEQ APAGADO_G_4
		B DELAY_G_4
		
APAGADO_G_4
		
		LDR R7, =0 		
		LDR R0, [R1, #0X3FC]	;OFFSET AL REGISTRO DE DATA DE TODOS LOS PINES DE UN PUERTO
		BIC R0, #0X2 			;PRENDE PF2
		STR R0, [R1, #0X3FC]	;GUARDA EL VALOR EN EL REGISTRO DE DATA Y ENCIENDE LOS PINES 
		B DELAY_OFF_G_4

DELAY_OFF_G_4	
		
		ADD R7, #1
		CMP R7, R6
		BEQ RECTO_M_1
		B DELAY_OFF_G_4